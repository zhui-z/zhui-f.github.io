<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>linux服务搭建</title>
      <link href="/2020/08/14/linux%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/"/>
      <url>/2020/08/14/linux%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p><a name="IgRNq"></a></p><h2 id="搭建lamp-服务器"><a href="#搭建lamp-服务器" class="headerlink" title="搭建lamp 服务器"></a>搭建lamp 服务器</h2><ul><li>lamp:limux,Apache,Mysql</li></ul><p><a name="gkF0k"></a></p><h3 id="安装apache"><a href="#安装apache" class="headerlink" title="安装apache"></a>安装apache</h3><p>yum安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd httpd-devel</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597365560034-3c87650f-eba7-4cb5-969c-79ab26d9cd7d.png#align=left&display=inline&height=95&margin=%5Bobject%20Object%5D&name=image.png&originHeight=95&originWidth=792&size=13512&status=done&style=none&width=792" alt="image.png"><br />启动 Apache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start httpd</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597365626354-91c14deb-b91b-4006-ab58-003566205a2f.png#align=left&display=inline&height=164&margin=%5Bobject%20Object%5D&name=image.png&originHeight=164&originWidth=551&size=5703&status=done&style=none&width=551" alt="image.png"><br />设置开机启动<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597365667438-58a2d8db-fbdd-4431-a10d-7a30dd521a0c.png#align=left&display=inline&height=115&margin=%5Bobject%20Object%5D&name=image.png&originHeight=115&originWidth=845&size=12690&status=done&style=none&width=845" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597365786814-d1c30ed8-0eb8-4caf-98d6-3fb8c4a37a34.png#align=left&display=inline&height=666&margin=%5Bobject%20Object%5D&name=image.png&originHeight=666&originWidth=842&size=145760&status=done&style=none&width=842" alt="image.png"><br><a name="Cnwqx"></a></p><a id="more"></a><h3 id="安装php"><a href="#安装php" class="headerlink" title="安装php"></a>安装php</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php</span><br></pre></td></tr></table></figure><p>yum安装<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597366104136-0ba7f7e7-8387-43de-8ce3-6f6fe3ef144e.png#align=left&display=inline&height=123&margin=%5Bobject%20Object%5D&name=image.png&originHeight=123&originWidth=501&size=8779&status=done&style=none&width=501" alt="image.png"><br />将php与mysql关联起来</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install php-mysql</span><br><span class="line">rpm -ql php-mysql</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597366165160-2cfefa37-e4be-4785-b84e-75b0d3d4c003.png#align=left&display=inline&height=279&margin=%5Bobject%20Object%5D&name=image.png&originHeight=279&originWidth=586&size=23132&status=done&style=none&width=586" alt="image.png"><br />安装php常用模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">um install -y php-gd php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-snmp php-soap curl curl-devel php-bcmath</span><br></pre></td></tr></table></figure><p>写个phpinfo查看是否生效<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597366278767-1d513e0e-b512-430d-9ba8-ed7d8fa60c81.png#align=left&display=inline&height=93&margin=%5Bobject%20Object%5D&name=image.png&originHeight=93&originWidth=510&size=5892&status=done&style=none&width=510" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597366329232-f80349b3-baf0-46bc-aab4-d18ef497c778.png#align=left&display=inline&height=659&margin=%5Bobject%20Object%5D&name=image.png&originHeight=659&originWidth=801&size=43043&status=done&style=none&width=801" alt="image.png"><br><a name="m09LZ"></a></p><h3 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h3><p><a name="5WN8m"></a></p><h3 id="yum-安装mysql"><a href="#yum-安装mysql" class="headerlink" title="yum 安装mysql"></a>yum 安装mysql</h3><p>yum 安装mysql<br />下载安装mysql官方的 yum repositor<br />版本5.7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span></span><br></pre></td></tr></table></figure><p>使用命令安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure><p>安装mysql</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure><p>历经一个小时终于下完了<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220411957-fa84a300-bccd-447e-a1c2-c13883ff7465.png#align=left&display=inline&height=536&margin=%5Bobject%20Object%5D&name=image.png&originHeight=536&originWidth=801&size=62869&status=done&style=none&width=801" alt="image.png"><br />启动mysql</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure><p>设置开机启动<br />systemctl enable mysqld.service<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220619446-4bb72d0d-65b9-4824-a0d7-bb4a5ba44855.png#align=left&display=inline&height=176&margin=%5Bobject%20Object%5D&name=image.png&originHeight=176&originWidth=569&size=8077&status=done&style=none&width=569" alt="image.png"><br />此时MySQL已经开始正常运行，不过要想进入MySQL还得先找出此时root用户的密码，通过如下命令可以在日志文件中找出密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">"password"</span> /var/<span class="built_in">log</span>/mysqld.log</span><br></pre></td></tr></table></figure><p><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220674463-72d00130-0d5c-457d-b356-6a38821b967e.png#align=left&display=inline&height=150&margin=%5Bobject%20Object%5D&name=image.png&originHeight=150&originWidth=798&size=13972&status=done&style=none&width=798" alt="image.png"><br /><br><br />登录成功<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220816638-c7f58254-33a5-443f-af49-795bd062afcf.png#align=left&display=inline&height=338&margin=%5Bobject%20Object%5D&name=image.png&originHeight=338&originWidth=797&size=33770&status=done&style=none&width=797" alt="image.png"><br><a name="TXWvP"></a></p><h2 id="防火墙配置"><a href="#防火墙配置" class="headerlink" title="防火墙配置"></a>防火墙配置</h2><p><a name="1b9d0ca3"></a></p><h3 id="1、firewalld的基本使用"><a href="#1、firewalld的基本使用" class="headerlink" title="1、firewalld的基本使用"></a>1、firewalld的基本使用</h3><p>启动： systemctl start firewalld<br />查看状态： systemctl status firewalld <br />停止运行： systemctl stop firewalld<br><a name="Qnns1"></a></p><h3 id="2-配置firewalld-cmd"><a href="#2-配置firewalld-cmd" class="headerlink" title="2.配置firewalld-cmd"></a>2.配置firewalld-cmd</h3><p>查看版本： firewall-cmd –version<br />查看帮助： firewall-cmd –help<br />显示状态： firewall-cmd –state<br />查看所有打开的端口： firewall-cmd –zone=public –list-ports<br />更新防火墙规则： firewall-cmd –reload<br />更新防火墙规则，重启服务： firewall-cmd –completely-reload<br />查看已激活的Zone信息:  firewall-cmd –get-active-zones<br />查看指定接口所属区域： firewall-cmd –get-zone-of-interface=eth0<br />拒绝所有包：firewall-cmd –panic-on<br />取消拒绝状态： firewall-cmd –panic-off<br />查看是否拒绝： firewall-cmd –query-panic<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597366943180-a6385560-fd01-4821-bb26-65eb356a79b4.png#align=left&display=inline&height=152&margin=%5Bobject%20Object%5D&name=image.png&originHeight=152&originWidth=603&size=11678&status=done&style=none&width=603" alt="image.png"><br><a name="aef09299"></a></p><h3 id="4-firewall开启和关闭端口"><a href="#4-firewall开启和关闭端口" class="headerlink" title="4.firewall开启和关闭端口"></a>4.firewall开启和关闭端口</h3><p><strong>以下都是指在public的zone下的操作，不同的Zone只要改变Zone后面的值就可以</strong><br /><strong>添加：</strong><br />firewall-cmd –zone=public –add-port=80/tcp –permanent    （–permanent永久生效，没有此参数重启后失效）<br /><strong>重新载入：</strong><br />firewall-cmd –reload<br /><strong>查看：</strong><br />firewall-cmd –zone=public –query-port=80/tcp<br /><strong>删除：</strong><br />firewall-cmd –zone=public –remove-port=80/tcp –permanent<br><a name="Afrqn"></a></p><h4 id="开启"><a href="#开启" class="headerlink" title="开启"></a>开启</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597367311437-a06b1156-09a9-4130-aaf6-7064b1e15152.png#align=left&display=inline&height=134&margin=%5Bobject%20Object%5D&name=image.png&originHeight=134&originWidth=832&size=15713&status=done&style=none&width=832" alt="image.png"><br />查看ip<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597367339385-417c0a85-dfc6-4621-97e6-fcf72491ec82.png#align=left&display=inline&height=664&margin=%5Bobject%20Object%5D&name=image.png&originHeight=664&originWidth=819&size=90492&status=done&style=none&width=819" alt="image.png"><br />访问成功<br /> <br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597367376402-7aacbffb-1c50-4d18-98ee-e3bfa79b0a09.png#align=left&display=inline&height=865&margin=%5Bobject%20Object%5D&name=image.png&originHeight=865&originWidth=1519&size=126176&status=done&style=none&width=1519" alt="image.png"><br /></p><p><a name="sfzCa"></a></p><h4 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a>关闭</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597367990685-ae4d9439-e458-4deb-b453-2b239d5bf6f2.png#align=left&display=inline&height=166&margin=%5Bobject%20Object%5D&name=image.png&originHeight=166&originWidth=850&size=18742&status=done&style=none&width=850" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597368001189-1574375c-fea7-4777-8012-d3c24c744768.png#align=left&display=inline&height=454&margin=%5Bobject%20Object%5D&name=image.png&originHeight=454&originWidth=1313&size=24149&status=done&style=none&width=1313" alt="image.png"></p><p><a name="28c3461c"></a></p><h4 id="禁用icmp"><a href="#禁用icmp" class="headerlink" title="禁用icmp"></a>禁用icmp</h4><p>无法ping通</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule=<span class="string">'rule protocol value=icmp drop'</span></span><br></pre></td></tr></table></figure><p><a name="ocPNp"></a></p><h3 id=""><a href="#" class="headerlink" title=""></a><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597368191922-4c67b53d-44fa-4944-b7b0-275f4fccfed9.png#align=left&display=inline&height=590&margin=%5Bobject%20Object%5D&name=image.png&originHeight=590&originWidth=1871&size=176961&status=done&style=none&width=1871" alt="image.png"></h3><p><a name="sDUEB"></a></p><h3 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h3><p><strong>在centos 7下启用iptables</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br><span class="line">yum install iptables-services -y </span><br><span class="line">systemctl <span class="built_in">enable</span> iptables</span><br><span class="line">systemctl start iptables</span><br><span class="line">编辑ipatbles的规则</span><br><span class="line">vim /etc/sysconfig/iptables</span><br><span class="line">重启iptables服务 </span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure><p><a name="aDDNq"></a></p><h4 id="开放80端口"><a href="#开放80端口" class="headerlink" title="开放80端口"></a>开放80端口</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597368827730-bb14794f-845f-4f27-aa44-02164da0c34b.png#align=left&display=inline&height=80&margin=%5Bobject%20Object%5D&name=image.png&originHeight=80&originWidth=655&size=8916&status=done&style=none&width=655" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597368841652-4b3927e0-1369-438f-a612-b5bba2e167db.png#align=left&display=inline&height=862&margin=%5Bobject%20Object%5D&name=image.png&originHeight=862&originWidth=1578&size=476613&status=done&style=none&width=1578" alt="image.png"><br><a name="bu7cc"></a></p><h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><p><a name="CsC5i"></a></p><h5 id="删除某个已有规则"><a href="#删除某个已有规则" class="headerlink" title="删除某个已有规则"></a>删除某个已有规则</h5><p>要删除规则那么我们就需要先将所有iptables规则以序号标记显示，执行：<br />命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L -n --line-numbers</span><br></pre></td></tr></table></figure><p>比如要删除INPUT里序号为8的规则，执行：<br />命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -D INPUT 8</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597369022020-ecfdbc7c-7524-48c8-a565-cbfab026a398.png#align=left&display=inline&height=273&margin=%5Bobject%20Object%5D&name=image.png&originHeight=273&originWidth=829&size=29957&status=done&style=none&width=829" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597369645787-a94e8632-746c-49e6-8ea2-570a95a7f56b.png#align=left&display=inline&height=756&margin=%5Bobject%20Object%5D&name=image.png&originHeight=756&originWidth=1574&size=35221&status=done&style=none&width=1574" alt="image.png"><br><a name="xuZ04"></a></p><h4 id="禁止icmp"><a href="#禁止icmp" class="headerlink" title="禁止icmp"></a>禁止icmp</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -A OUTPUT -p icmp --icmp-type <span class="built_in">echo</span>-request -j DROP</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597369480018-2b369cfe-bc52-48b9-b726-a9d07747b47b.png#align=left&display=inline&height=207&margin=%5Bobject%20Object%5D&name=image.png&originHeight=207&originWidth=840&size=25911&status=done&style=none&width=840" alt="image.png"><br />无法ping通<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597369673143-f2efdf10-3e66-42a5-8e91-7eba9158c6ae.png#align=left&display=inline&height=620&margin=%5Bobject%20Object%5D&name=image.png&originHeight=620&originWidth=1621&size=125085&status=done&style=none&width=1621" alt="image.png"></p><p><a name="FE7AM"></a></p><h2 id="配置ssh"><a href="#配置ssh" class="headerlink" title="配置ssh"></a>配置ssh</h2><p><strong>一、修改ssh配置文件sshd_config</strong><br /><strong>修改端口</strong><br />**<br />一、修改ssh配置文件sshd_config<br />[root@bogon ~]# vi /etc/ssh/sshd_config<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597370589287-a3311bdf-ffb9-4397-8a5f-6ea9c04f057d.png#align=left&display=inline&height=492&margin=%5Bobject%20Object%5D&originHeight=492&originWidth=886&size=0&status=done&style=none&width=886"><br /> <br />二、防火墙放行<br />[root@bogon ~]# firewall-cmd –zone=public –add-port=22345/tcp –permanent<br />[root@bogon ~]# firewall-cmd –reload<br /> <br />三、向SELinux中添加修改的SSH端口<br />先安装SELinux的管理工具 semanage (如果已经安装了就直接到下一步) ：<br />[root@bogon ~]# yum provides semanage<br /> <br />安装运行semanage所需依赖工具包 policycoreutils-python：<br />[root@bogon ~]# yum -y install policycoreutils-python<br /> <br />查询当前 ssh 服务端口：<br />[root@bogon ~]# semanage port -l | grep ssh<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597370589340-e82376f7-a725-4664-92ee-f49ff8cf4ed1.png#align=left&display=inline&height=103&margin=%5Bobject%20Object%5D&originHeight=103&originWidth=617&size=0&status=done&style=none&width=617"><br />向 SELinux 中添加 ssh 端口：<br />[root@bogon ~]# semanage port -a -t ssh_port_t -p tcp 22345<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597370589248-74b0a13c-c274-40db-b6e8-31230f55af83.png#align=left&display=inline&height=78&margin=%5Bobject%20Object%5D&originHeight=78&originWidth=611&size=0&status=done&style=none&width=611"><br /> <br /> 重启 ssh 服务：<br />[root@bogon ~]# systemctl restart sshd.service<br /><br><br /><a href="https://www.cnblogs.com/heqiuyong/p/11072829.html" target="_blank" rel="noopener">https://www.cnblogs.com/heqiuyong/p/11072829.html</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597369995268-eff95d4e-9f39-4bde-b591-5f71d9474966.png#align=left&display=inline&height=428&margin=%5Bobject%20Object%5D&name=image.png&originHeight=428&originWidth=678&size=39607&status=done&style=none&width=678" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597370480931-04cdab55-eda5-4abb-99fd-c672832d3f7f.png#align=left&display=inline&height=570&margin=%5Bobject%20Object%5D&name=image.png&originHeight=570&originWidth=820&size=42727&status=done&style=none&width=820" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597370791027-b693fbd3-af98-4058-b082-c721a80dd964.png#align=left&display=inline&height=414&margin=%5Bobject%20Object%5D&name=image.png&originHeight=414&originWidth=784&size=104655&status=done&style=none&width=784" alt="image.png"><br /></p><p><a name="H8hiK"></a></p><h2 id="搭建lnmp"><a href="#搭建lnmp" class="headerlink" title="搭建lnmp"></a>搭建lnmp</h2><p>安装Nginx<br />使用yum安装nginx需要包括Nginx的库，安装Nginx的库<br />#rpm -Uvh <a href="http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm" target="_blank" rel="noopener">http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</a><br /> <br />使用下面命令安装nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx</span><br></pre></td></tr></table></figure><p>启动nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service nginx start</span><br><span class="line">或者</span><br><span class="line">systemctl start nginx.service</span><br></pre></td></tr></table></figure><p><br />4.停止nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure><p>.重新加载nginx配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597371931503-f38348db-3700-4cd4-9154-ab28df619938.png#align=left&display=inline&height=547&margin=%5Bobject%20Object%5D&name=image.png&originHeight=547&originWidth=843&size=36981&status=done&style=none&width=843" alt="image.png"><br />vim /etc/nginx/conf.d/default.conf配置文件，恶心弄半天<br /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">location ~ .php$ &#123;</span><br><span class="line">        root /var/www/unixmen;</span><br><span class="line">        fastcgi_split_path_info ^(.+\.php)(.*)$;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  /var/www/unixmen<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        include fastcgi_params;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>创建文件夹下载wordpress<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597393549581-fc94017f-669d-4cee-b646-7fcc738ed217.png#align=left&display=inline&height=344&margin=%5Bobject%20Object%5D&name=image.png&originHeight=344&originWidth=773&size=22949&status=done&style=none&width=773" alt="image.png"><br />访问<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400646821-0850c119-b4c1-4983-a583-6cd48f707aed.png#align=left&display=inline&height=504&margin=%5Bobject%20Object%5D&name=image.png&originHeight=504&originWidth=746&size=39642&status=done&style=none&width=746" alt="image.png"><br />提交数据库<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400668644-3322395c-4dbd-43ec-8d88-7058cbbdf3ce.png#align=left&display=inline&height=434&margin=%5Bobject%20Object%5D&name=image.png&originHeight=434&originWidth=740&size=20427&status=done&style=none&width=740" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400782916-256a9545-f86d-406c-b958-73a6ed738e76.png#align=left&display=inline&height=257&margin=%5Bobject%20Object%5D&name=image.png&originHeight=257&originWidth=709&size=10917&status=done&style=none&width=709" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400809585-8756121e-c717-4106-8006-c2cc137f5296.png#align=left&display=inline&height=502&margin=%5Bobject%20Object%5D&name=image.png&originHeight=502&originWidth=775&size=41939&status=done&style=none&width=775" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400845277-00b9dc0d-b79c-4497-b688-8627eb3d3f3a.png#align=left&display=inline&height=538&margin=%5Bobject%20Object%5D&name=image.png&originHeight=538&originWidth=755&size=21579&status=done&style=none&width=755" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597400867777-314a7569-ba7e-4b82-afe9-6512ee68ac68.png#align=left&display=inline&height=521&margin=%5Bobject%20Object%5D&name=image.png&originHeight=521&originWidth=741&size=26452&status=done&style=none&width=741" alt="image.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux安装软件与包管理</title>
      <link href="/2020/08/12/linux%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E4%B8%8E%E5%8C%85%E7%AE%A1%E7%90%86/"/>
      <url>/2020/08/12/linux%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E4%B8%8E%E5%8C%85%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<br /><p><a name="36850400"></a></p><h3 id="yum安装jdk"><a href="#yum安装jdk" class="headerlink" title="yum安装jdk"></a>yum安装jdk</h3><p><br />搜索jdk软件包列表<br /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search java | grep -i --color jdk</span><br></pre></td></tr></table></figure><p><br /><img src= "/img/loading.gif" data-lazy-src="https://my-hexo-z.oss-cn-beijing.aliyuncs.com/images/2020-08-10_21-39.png#align=left&display=inline&height=597&margin=%5Bobject%20Object%5D&originHeight=597&originWidth=809&status=done&style=none&width=809"><br /><br><br />选择版本安装<br /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel</span><br></pre></td></tr></table></figure><p><br />下载完成<br /><br><br /><img src= "/img/loading.gif" data-lazy-src="https://my-hexo-z.oss-cn-beijing.aliyuncs.com/images/2020-08-10_21-42.png#align=left&display=inline&height=605&margin=%5Bobject%20Object%5D&originHeight=605&originWidth=802&status=done&style=none&width=802"><br /><br><br />安装成功<br /><br><br /><img src= "/img/loading.gif" data-lazy-src="https://my-hexo-z.oss-cn-beijing.aliyuncs.com/images/2020-08-10_21-43.png#align=left&display=inline&height=629&margin=%5Bobject%20Object%5D&originHeight=629&originWidth=806&status=done&style=none&width=806"><br /></p><p><a name="893688b4"></a></p><h3 id="源码安装mysql"><a href="#源码安装mysql" class="headerlink" title="源码安装mysql"></a>源码安装mysql</h3><a id="more"></a><p><a name="ef036d91"></a></p><h4 id="去管网下载安装包"><a href="#去管网下载安装包" class="headerlink" title="去管网下载安装包"></a>去管网下载安装包</h4><p><br /><img src= "/img/loading.gif" data-lazy-src="https://my-hexo-z.oss-cn-beijing.aliyuncs.com/images/20200811145940.png#align=left&display=inline&height=640&margin=%5Bobject%20Object%5D&originHeight=640&originWidth=922&status=done&style=none&width=922"><br /><br><br />下载完成<img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597151702982-cfdee8ec-e6ea-4cf6-8eef-e4a1eac4fbc9.png#align=left&display=inline&height=215&margin=%5Bobject%20Object%5D&name=image.png&originHeight=215&originWidth=751&size=12436&status=done&style=none&width=751" alt="image.png"><br><a name="8l3wV"></a></p><h4 id="yum安装编译所需要的工具和库。-lt-br-gt"><a href="#yum安装编译所需要的工具和库。-lt-br-gt" class="headerlink" title="yum安装编译所需要的工具和库。&lt;br /&gt;"></a>yum安装编译所需要的工具和库。<code>&lt;br /&gt;</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y cmake make gcc gcc-c++ wget ncurses-devel cmake make perl ncurses-devel openssl-devel bison-devel libaio libaio</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597197364270-96c0b1c8-a10b-4563-a052-ba6e611c8f47.png#align=left&display=inline&height=537&margin=%5Bobject%20Object%5D&name=image.png&originHeight=537&originWidth=957&size=62247&status=done&style=none&width=957" alt="image.png"><br><a name="81jnm"></a></p><h4 id="创建MySQL安装目录"><a href="#创建MySQL安装目录" class="headerlink" title="创建MySQL安装目录"></a>创建MySQL安装目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如MySQL安装目录为：/usr/local/mysql</span></span><br><span class="line">mkdir -p /usr/<span class="built_in">local</span>/web/mysql</span><br><span class="line"><span class="comment">#创建数据目录为：</span></span><br><span class="line">mkdir /home/mysql/data</span><br></pre></td></tr></table></figure><p><br /><strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597197554363-6bd0ffba-bc52-47b9-bb1e-2c2aa4857c9e.png#align=left&display=inline&height=165&margin=%5Bobject%20Object%5D&name=image.png&originHeight=165&originWidth=827&size=23473&status=done&style=none&width=827" alt="image.png"></strong><br><a name="v3XcS"></a></p><h4 id="创建mysql用户和用户组和安装目录"><a href="#创建mysql用户和用户组和安装目录" class="headerlink" title="创建mysql用户和用户组和安装目录"></a><strong>创建mysql用户和用户组和安装目录</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建用户组</span></span><br><span class="line">groupadd mysql</span><br><span class="line"><span class="comment"># 创建mysql用户，所属组为mysql</span></span><br><span class="line">useradd -s /bin/bash -m -g mysql mysql</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/mysql/data/bin_log</span><br><span class="line">mkdir -p /home/mysql/data/db_file</span><br><span class="line">mkdir -p /home/mysql/data/innodb_log</span><br><span class="line">mkdir -p /home/mysql/data/innodb_ts</span><br><span class="line">mkdir -p /home/mysql/data/<span class="built_in">log</span></span><br><span class="line">mkdir -p /home/mysql/data/relay_log</span><br><span class="line">mkdir -p /home/mysql/data/tmpdir</span><br><span class="line">mkdir -p /home/mysql/data/undo_log</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597198002466-9403ff4d-2900-456b-ae23-b503749f329a.png#align=left&display=inline&height=200&margin=%5Bobject%20Object%5D&name=image.png&originHeight=200&originWidth=669&size=29077&status=done&style=none&width=669" alt="image.png"><br />更改目录权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown -R mysql:mysql /home/mysql/data/</span><br><span class="line">chown -R mysql:mysql /usr/<span class="built_in">local</span>/web/mysql/</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597198079621-ea3b348f-3c55-4dd8-bee2-759362c28d27.png#align=left&display=inline&height=144&margin=%5Bobject%20Object%5D&name=image.png&originHeight=144&originWidth=842&size=9997&status=done&style=none&width=842" alt="image.png"><br />解压</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tar -zxvf mysql-5.6.40.tar.gz</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597198198010-25af0ac9-f88f-462c-9f50-d4297c4a4f95.png#align=left&display=inline&height=348&margin=%5Bobject%20Object%5D&name=image.png&originHeight=348&originWidth=899&size=45134&status=done&style=none&width=899" alt="image.png">编译安装cmake编译工具。(<strong>先执行</strong>./configure检查配置，<strong>再执行</strong>make编译，<strong>最后执行</strong>make install 安装)<img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597203694869-c2f23960-aa32-4861-97ea-197684fa196a.png#align=left&display=inline&height=541&margin=%5Bobject%20Object%5D&name=image.png&originHeight=541&originWidth=963&size=121037&status=done&style=none&width=963" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597204035527-70db77cc-004b-4011-b136-60c16fba6975.png#align=left&display=inline&height=319&margin=%5Bobject%20Object%5D&name=image.png&originHeight=319&originWidth=949&size=70910&status=done&style=none&width=949" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597205099410-6005a711-fe72-49ea-b534-646854223af8.png#align=left&display=inline&height=520&margin=%5Bobject%20Object%5D&name=image.png&originHeight=520&originWidth=924&size=94376&status=done&style=none&width=924" alt="image.png"><br />编译安装mysql软件包。(<strong>先执行</strong> cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DSYSCONFDIR=/etc  <strong>再执行</strong> make    <strong>最后执行</strong> make install )<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597205629405-41983414-e220-4159-b954-90696a5e1c8b.png#align=left&display=inline&height=435&margin=%5Bobject%20Object%5D&name=image.png&originHeight=435&originWidth=941&size=78420&status=done&style=none&width=941" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597205629404-7107d9d2-28cb-4ce8-bcd7-cfbb214aeb7f.png#align=left&display=inline&height=490&margin=%5Bobject%20Object%5D&name=image.png&originHeight=490&originWidth=950&size=79288&status=done&style=none&width=950" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597207192767-61bb59f1-6d1d-470c-aa51-f94c5994520f.png#align=left&display=inline&height=399&margin=%5Bobject%20Object%5D&name=image.png&originHeight=399&originWidth=711&size=44201&status=done&style=none&width=711" alt="image.png"><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597207709565-da902622-2350-4735-bb6b-4658d5060227.png#align=left&display=inline&height=91&margin=%5Bobject%20Object%5D&name=image.png&originHeight=91&originWidth=800&size=13299&status=done&style=none&width=800" alt="image.png"><br />把mysql服务添加系统环境变量。<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597207826618-de38c115-e802-4753-91e9-d080dcb8d484.png#align=left&display=inline&height=355&margin=%5Bobject%20Object%5D&name=image.png&originHeight=355&originWidth=850&size=21799&status=done&style=none&width=850" alt="image.png"><br />弄了半天，忘了截图弄，卡了很久<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597210861653-8795e560-d032-40c7-8c34-9c76a499ca3a.png#align=left&display=inline&height=61&margin=%5Bobject%20Object%5D&name=image.png&originHeight=61&originWidth=761&size=13754&status=done&style=none&width=761" alt="image.png"><br /><a href="https://blog.51cto.com/rabbit2013/1341055" target="_blank" rel="noopener">https://blog.51cto.com/rabbit2013/1341055</a><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597210896953-4b387261-5a3f-46f9-a28c-a96d87b58fd3.png#align=left&display=inline&height=38&margin=%5Bobject%20Object%5D&name=image.png&originHeight=38&originWidth=437&size=4935&status=done&style=none&width=437" alt="image.png"><br /><a href="https://blog.csdn.net/vv19910825/article/details/82979563" target="_blank" rel="noopener">https://blog.csdn.net/vv19910825/article/details/82979563</a><br />终于进来了<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597211065400-f4e283e6-4ca3-4971-b8c3-d5662b41ec2c.png#align=left&display=inline&height=299&margin=%5Bobject%20Object%5D&name=image.png&originHeight=299&originWidth=739&size=38332&status=done&style=none&width=739" alt="image.png"><br />设置下密码<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597211578964-bfbaca8d-76ff-4478-a6b5-118b173db9e1.png#align=left&display=inline&height=154&margin=%5Bobject%20Object%5D&name=image.png&originHeight=154&originWidth=729&size=15192&status=done&style=none&width=729" alt="image.png"><br /><br><br />登录成功<br /><br><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597211599867-485aafb6-26e4-4b9c-8ccd-5b2df8e5bb12.png#align=left&display=inline&height=302&margin=%5Bobject%20Object%5D&name=image.png&originHeight=302&originWidth=726&size=33901&status=done&style=none&width=726" alt="image.png"><br /></p><p><a name="z7Ur7"></a></p><h3 id="yum-安装mysql"><a href="#yum-安装mysql" class="headerlink" title="yum 安装mysql"></a>yum 安装mysql</h3><p>下载并安装MySQL官方的 Yum Repository<br />版本5.7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span></span><br></pre></td></tr></table></figure><p>使用命令安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure><p>安装mysql</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure><p>历经一个小时终于下完了<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220411957-fa84a300-bccd-447e-a1c2-c13883ff7465.png#align=left&display=inline&height=536&margin=%5Bobject%20Object%5D&name=image.png&originHeight=536&originWidth=801&size=62869&status=done&style=none&width=801" alt="image.png"><br />启动mysql</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure><p>设置开机启动<br />systemctl enable mysqld.service<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220619446-4bb72d0d-65b9-4824-a0d7-bb4a5ba44855.png#align=left&display=inline&height=176&margin=%5Bobject%20Object%5D&name=image.png&originHeight=176&originWidth=569&size=8077&status=done&style=none&width=569" alt="image.png"><br />此时MySQL已经开始正常运行，不过要想进入MySQL还得先找出此时root用户的密码，通过如下命令可以在日志文件中找出密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">"password"</span> /var/<span class="built_in">log</span>/mysqld.log</span><br></pre></td></tr></table></figure><p><br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220674463-72d00130-0d5c-457d-b356-6a38821b967e.png#align=left&display=inline&height=150&margin=%5Bobject%20Object%5D&name=image.png&originHeight=150&originWidth=798&size=13972&status=done&style=none&width=798" alt="image.png"><br /><br><br />登录成功<br /><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1597220816638-c7f58254-33a5-443f-af49-795bd062afcf.png#align=left&display=inline&height=338&margin=%5Bobject%20Object%5D&name=image.png&originHeight=338&originWidth=797&size=33770&status=done&style=none&width=797" alt="image.png"><br /></p><p><a name="efda2f12"></a></p><h2 id="源码安装、rpm、yum"><a href="#源码安装、rpm、yum" class="headerlink" title="源码安装、rpm、yum"></a>源码安装、rpm、yum</h2><p><a name="CewV9"></a></p><h3 id="1、源码安装"><a href="#1、源码安装" class="headerlink" title="1、源码安装"></a>1、源码安装</h3><p><a name="a67c80ed"></a></p><h4 id="源码安装优点"><a href="#源码安装优点" class="headerlink" title="源码安装优点"></a>源码安装优点</h4><p>1、文档齐全<br />2、因为可以定位到代码，所以debug方便<br />3、本机兼容性最好（由于是本机编译的，只要编译通过，就没有各种库的依赖的问题）<br><a name="dc349468"></a></p><h4 id="源码安装的缺点"><a href="#源码安装的缺点" class="headerlink" title="源码安装的缺点"></a>源码安装的缺点</h4><p>1、编译麻烦<br />2、缺乏自动依赖管理，软件升级麻烦<br />3、操作过程繁琐<br />使用make编译<br /></p><p><a name="zoHEo"></a></p><h3 id="2、RPM包安装"><a href="#2、RPM包安装" class="headerlink" title="2、RPM包安装"></a>2、RPM包安装</h3><p>对于一个rpm包来说，都是有”-“和”.”构成的，基本上有以下几部分组成：<br />* 包名 *版本信息 * 发布版本号 * 运行平台，当出现noarch,代表的是软件可以平台兼容<br><a name="IEC2F"></a></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><a name="e655a410"></a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>rpm -i 需要安装的包文件<br />rpm -iv 需要安装的包文件(显示安装详情)<br />rpm -ivh 需要安装的包文件(显示安装详情及进度)<br /><br><a name="e643c719"></a></p><h4 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h4><p>rpm -U 需要升级的包文件<br />rpm -Uvh 需要升级的包文件(显示升级详情及进度)<br /><br><a name="zV8BC"></a></p><h4 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h4><p>rpm -e 需要卸载的软件包<br />注：如果其他程序依赖要卸载的包,系统会提示不能删除,若需要强行删除加上–nodeps,<br />会强制删除,但可能导致依赖于它的软件不能运行。<br /><br><a name="52effdd3"></a></p><h4 id="查看已安装"><a href="#查看已安装" class="headerlink" title="查看已安装"></a>查看已安装</h4><p>rpm -qa<br /><br><a name="05f41833"></a></p><h4 id="查看指定包"><a href="#查看指定包" class="headerlink" title="查看指定包"></a>查看指定包</h4><p>rpm -qa | grep “软件或者包的名字”<br><a name="0c79244d"></a></p><h2 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h2><p><a name="kgrOz"></a></p><h4 id="安装流程"><a href="#安装流程" class="headerlink" title="安装流程"></a>安装流程</h4><p>1、安装: yum install 软件<br />2、升级: yum update 软件<br />3、删除: yum remove 软件<br />4、查看: yum info 软件<br />5、搜索软件: yum search 软件<br />6、查看依赖关系: yum deplist 软件<br />7、查看已安装软件: yum list installded<br /></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown语法</title>
      <link href="/2020/08/07/markdown%E8%AF%AD%E6%B3%95/"/>
      <url>/2020/08/07/markdown%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><p>‘’’ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h4><p>在markdown中段落换行使用两个以上空格加上回车</p><p>hello  </p><p>hello</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">hello</span><br></pre></td></tr></table></figure><h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><p><em>斜体文本</em><br><em>斜体文本</em><br><strong>粗体文本</strong><br><strong>粗体文本</strong><br><strong><em>粗斜体文本</em></strong><br><strong><em>粗斜体文本</em></strong></p><p>​    </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*斜体文本*</span><br><span class="line">_斜体文本_</span><br><span class="line">**粗体文本**</span><br><span class="line">__粗体文本__</span><br><span class="line">***粗斜体文本***</span><br><span class="line">___粗斜体文本___</span><br></pre></td></tr></table></figure><h3 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">***</span><br><span class="line"></span><br><span class="line">* * *</span><br><span class="line"></span><br><span class="line">*****</span><br><span class="line"></span><br><span class="line">- - -</span><br><span class="line"></span><br><span class="line">----------</span><br></pre></td></tr></table></figure><h3 id="Markdown-列表"><a href="#Markdown-列表" class="headerlink" title="Markdown 列表"></a>Markdown 列表</h3><p>Markdown 支持有序列表和无序列表。</p><p>无序列表使用星号(*<strong>**)、加号(</strong>+<strong>)或是减号(</strong>-**)作为列表标记，这些标记后面要添加一个空格，然后再填写内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 第一项</span><br><span class="line">* 第二项</span><br><span class="line">* 第三项</span><br><span class="line"></span><br><span class="line">+ 第一项</span><br><span class="line">+ 第二项</span><br><span class="line">+ 第三项</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 第一项</span><br><span class="line">- 第二项</span><br><span class="line">- 第三项</span><br></pre></td></tr></table></figure><ul><li>第一项<ul><li>第一项<ul><li>第一项</li></ul></li></ul></li></ul><p>1、第一项：</p><ul><li>第一项</li><li>第二项</li></ul><h3 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; 最外层</span><br><span class="line">&gt; &gt; 第一层嵌套</span><br><span class="line">&gt; &gt; &gt; 第二层嵌套</span><br></pre></td></tr></table></figure><blockquote><p>最外层</p><blockquote><p>第一层嵌套</p><blockquote><p>第二层嵌套</p></blockquote></blockquote></blockquote><p>**```**用来包裹代码</p><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[链接名称](链接地址)</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">&lt;链接地址&gt;</span><br></pre></td></tr></table></figure><p>链接<a href="https://www.baidu.com/" target="_blank" rel="noopener">地址</a></p><p><a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com</a></p><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p><img src= "/img/loading.gif" data-lazy-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1596774964934&di=4fad6a09766e3bd17b9d64e412bb9393&imgtype=0&src=http://a3.att.hudong.com/14/75/01300000164186121366756803686.jpg" alt="图标"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![图片](https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1596774964934&amp;di&#x3D;4fad6a09766e3bd17b9d64e412bb9393&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fa3.att.hudong.com%2F14%2F75%2F01300000164186121366756803686.jpg)</span><br></pre></td></tr></table></figure><p><strong>我们可以设置表格的对齐方式：</strong></p><ul><li><strong>-:</strong> 设置内容和标题栏居右对齐。</li><li><strong>:-</strong> 设置内容和标题栏居左对齐。</li><li><strong>:-:</strong> 设置内容和标题栏居中对齐。</li></ul><p>实例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| 左对齐 | 右对齐 | 居中对齐 |</span><br><span class="line">| :-----| ----: | :----: |</span><br><span class="line">| 单元格 | 单元格 | 单元格 |</span><br><span class="line">| 单元格 | 单元格 | 单元格 |</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">左对齐</th><th align="right">右对齐</th><th align="center">居中对齐</th></tr></thead><tbody><tr><td align="left">单元格</td><td align="right">单元格</td><td align="center">单元格</td></tr><tr><td align="left">单元格</td><td align="right">单元格</td><td align="center">单元格</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> 其他 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos 安装tomcat</title>
      <link href="/2020/08/05/git%E5%92%8Ctomcat/"/>
      <url>/2020/08/05/git%E5%92%8Ctomcat/</url>
      
        <content type="html"><![CDATA[<h3 id="1、linux账户与权限"><a href="#1、linux账户与权限" class="headerlink" title="1、linux账户与权限"></a>1、linux账户与权限</h3><p>在linux中为了安全分配有多个账户，多个账户的权限从大到小。如何管理：对特定的用户需要特定的目录权限，对于 FTP,Apache默认shell进行限制</p><blockquote><p>/bin/false</p></blockquote><p>/bin/false 什么也不做只是返回一个错误状态，然后立即退出。将用户的 shell 设置为 /bin/false，用户会无法登录，并且不会有任何提示。</p><blockquote><p>/sbin/nologin</p></blockquote><p>nologin 会礼貌的向用户显示一条信息，并拒绝用户登录：</p><p>This account is currently not available.</p><p>有一些软件，比如一些 ftp 服务器软件，对于本地非虚拟账户，只有用户有有效的 shell 才能使用 ftp 服务。这时候就可以使用 nologin 使用户即不能登录系统，还能使用一些系统服务，比如 ftp 服务。/bin/false 则不行，这是二者的重要区别之一。</p><a id="more"></a><h3 id="2、chmod-chgrp-chown"><a href="#2、chmod-chgrp-chown" class="headerlink" title="2、chmod,chgrp,chown"></a>2、chmod,chgrp,chown</h3><blockquote><p>chmod</p><ul><li>用于修改文件权限</li><li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</li><li>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li><li>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li><li>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</li></ul></blockquote><blockquote><p>chgrp</p><ul><li>Linux chgrp命令用于变更文件或目录的所属群组。</li><li>-c或–changes 效果类似”-v”参数，但仅回报更改的部分。</li><li>-f或–quiet或–silent 　不显示错误信息。</li><li>-h或–no-dereference 　只对符号连接的文件作修改，而不更动其他任何相关文件。</li><li>-R或–recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。</li><li>-v或–verbose 　显示指令执行过程。</li><li>–help 　在线帮助。</li><li>–reference=&lt;参考文件或目录&gt; 　把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同。</li><li>–version 　显示版本信息。</li></ul></blockquote><blockquote><p>chown</p><ul><li>利用 chown 将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID；组可以是组名或者组ID；</li><li>-R : 处理指定目录以及其子目录下的所有文件</li></ul></blockquote><h3 id="3、修改文件"><a href="#3、修改文件" class="headerlink" title="3、修改文件"></a>3、修改文件</h3><p>数字</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596605024692-4b9011f6-557c-4c1d-8233-6f38bd0290f6.png" alt="image.png"></p><p>字母</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596605414902-d5162d20-d8be-45b7-b704-61fd511632ed.png" alt="image.png"></p><h3 id="3、git和tomcat"><a href="#3、git和tomcat" class="headerlink" title="3、git和tomcat"></a>3、git和tomcat</h3><h4 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h4><ul><li>yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-deve</li><li>yum install git</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596288951394-4a1b65d7-23b9-458c-b30f-2cc16e986f9d.png" alt="image.png"></p><h4 id="创建一个git用户组和用户，用来运行git服务："><a href="#创建一个git用户组和用户，用来运行git服务：" class="headerlink" title="创建一个git用户组和用户，用来运行git服务："></a>创建一个git用户组和用户，用来运行git服务：</h4><p>groupadd git</p><p>useradd git -g git</p><p>passwd git</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596289008152-fdc1c9b9-5605-4a74-85db-0832fee4f6b4.png" alt="image.png"></p><h4 id="初始化Git仓库"><a href="#初始化Git仓库" class="headerlink" title="初始化Git仓库"></a>初始化Git仓库</h4><ul><li>cd /home</li><li>mkdir gitrepo</li><li>chown git:git gitrepo/</li><li>cd gitrepo</li><li></li><li>git init –bare runoob.git</li></ul><p>以上命令Git创建一个空仓库，服务器上的Git仓库通常都以.git结尾。然后，把仓库所属用户改为git：</p><ul><li>chown -R git:git runoob.git</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596289301853-b0d23432-da17-49d7-bcb6-949d712779e4.png" alt="image.png"></p><h4 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596289610695-553fd46c-9d82-41bb-b10b-6e22211e9225.png" alt="image.png"></p><h4 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h4><p>下载</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596606077326-3566ac0c-0f66-4b37-85df-7cb12c9576be.png" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596606655149-864160a0-93b1-458c-b56f-16681241a809.png" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/602008/1596606672749-c2317290-7e62-4632-ab13-bf039acf08ad.png?x-oss-process=image/resize,w_746" alt="image.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
